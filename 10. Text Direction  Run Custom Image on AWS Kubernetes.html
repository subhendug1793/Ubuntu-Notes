<p>Execute Custom Image on AWS Kubernetes</p><p><br></p><p>1. Create AWS Kubernetes Cluster</p><pre class="prettyprint linenums">kops create cluster --yes --state=s3://kops-bucket-a87654 --zones=ap-south-1a --node-size=t2.micro --master-size=t2.micro --name=level360degree.uk</pre><p>If you don't have the Domain:</p><p><code>kops create cluster --yes --state=s3://kops-bucket-a87654 --zones=ap-south-1a --node-size=t2.micro --master-size=t2.micro --name=test.k8s.local</code></p><p><br></p><p>2. Verify Kubernetes Cluster.</p><pre class="prettyprint linenums">kops validate clusterkops validate cluster -o jsonkops validate cluster -o yaml</pre><p><br></p><p>3. Start the Deployment on Kubernetes Cluster.</p><p><code>kubectl create deployment magicalnginx --image=anshuldevops/magicalnginx</code></p><p><br></p><p>4. Get Information of Running Deployments</p><p><code>kubectl get deployments</code></p><p><br></p><p>5. Describe the Running Deployment</p><p><code>kubectl describe deployment magicalnginx</code></p><p><br></p><p>6. Make the NGINX container accessible via the internet via loadbalancer:</p><p><code>kubectl create service loadbalancer magicalnginx --tcp=80:80</code></p><p><br></p><p>7. Get Running Services</p><p><code>kubectl get svc</code></p><p><br></p><p>8. Remove Services</p><p><code>kubectl delete services magicalnginx</code></p><p><br></p><p>9. Remove Deployment</p><pre class="prettyprint linenums">kubectl delete deployment magicalnginx</pre><p>10. Delete Cluster</p><p><code>kops delete cluster --name=level360degree.uk --yes --state=s3://kops-bucket-a87654</code></p>